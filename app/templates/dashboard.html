{% extends "index.html" %} {% block content %}

<!-- flash messages to toast -->
<div style="display: none">
  {% with messages = get_flashed_messages(with_categories=true) %} {% if
  messages %} {% for category, message in messages %}
  <div class="alert alert-{{ category }}">{{ message }}</div>
  {% endfor %} {% endif %} {% endwith %}
</div>

<div class="row mb-4">
  <!-- total colleges -->
  <div class="col-md-4">
    <a href="{{ url_for('college.colleges') }}" class="text-decoration-none">
      <div
        class="card count-card shadow-sm p-3 rounded-3 text-center hover-card"
      >
        <i class="bi bi-mortarboard fs-1"></i>
        <h5 class="mt-2">Registered Colleges</h5>
        <h2>{{ total_colleges }}</h2>
      </div>
    </a>
  </div>

  <!-- total programs -->
  <div class="col-md-4">
    <a href="{{ url_for('program.programs') }}" class="text-decoration-none">
      <div
        class="card count-card shadow-sm p-3 rounded-3 text-center hover-card"
      >
        <i class="bi bi-journal-bookmark fs-1"></i>
        <h5 class="mt-2">Registered Programs</h5>
        <h2>{{ total_programs }}</h2>
      </div>
    </a>
  </div>

  <!-- total students -->
  <div class="col-md-4">
    <a href="{{ url_for('student.students') }}" class="text-decoration-none">
      <div
        class="card count-card shadow-sm p-3 rounded-3 text-center hover-card"
      >
        <i class="bi bi-people fs-1"></i>
        <h5 class="mt-2">Registered Students</h5>
        <h2>{{ total_students }}</h2>
      </div>
    </a>
  </div>
</div>

<div class="row">
  <!-- top 5 colleges -->
  <div class="col-md-6 mb-4">
    <div class="card shadow-sm rounded-3">
      <div class="card-header bg-primary text-white fw-bold">
        Top 5 Colleges with Most Students
      </div>
      <div class="card-body p-0">
        <table class="table table-striped mb-0">
          <thead class="table-light">
            <tr>
              <th scope="col">College</th>
              <th scope="col" class="text-center">Students</th>
            </tr>
          </thead>
          <tbody>
            {% for college, count in top_colleges %}
            <tr>
              <td>{{ college }}</td>
              <td class="text-center">{{ count }}</td>
            </tr>
            {% else %}
            <tr>
              <td colspan="2" class="text-center text-muted py-3">
                No data available
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- top 5 programs -->
  <div class="col-md-6 mb-4">
    <div class="card shadow-sm rounded-3">
      <div class="card-header bg-success text-white fw-bold">
        Top 5 Programs with Most Students
      </div>
      <div class="card-body p-0">
        <table class="table table-striped mb-0">
          <thead class="table-light">
            <tr>
              <th scope="col">Program</th>
              <th scope="col" class="text-center">Students</th>
            </tr>
          </thead>
          <tbody>
            {% for program, count in top_programs %}
            <tr>
              <td>{{ program }}</td>
              <td class="text-center">{{ count }}</td>
            </tr>
            {% else %}
            <tr>
              <td colspan="2" class="text-center text-muted py-3">
                No data available
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

{% endblock %}
